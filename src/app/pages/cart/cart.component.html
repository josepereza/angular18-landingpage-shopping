<br><br>
<br>

<mat-card appearance="outlined" style=" width: 80% !important; margin: auto;">
    <mat-card-content>

<div>
    <h1>My Cart Shop</h1>
 <span>Cantidad de productos : {{cartService.cartQuantity()}}</span>
    @if (cartService.cartQuantity()==0) {
      <p>Your cart is empty.</p>
    } @else {
      <table class="table align-middle">
        <thead>
          <tr>
            <th scope="col">id</th>
            <th scope="col">Name</th>
            <th scope="col">Qty</th>
            <th scope="col">Price</th>
            <th scope="col">Image</th>
            <th scope="col">Action</th>

          </tr>
        </thead>
        <tbody>
        @for (cartItem of cartService.cart(); track cartItem) {
          <tr>
            <td>{{cartItem.product.id}}</td>
            <th>{{cartItem.product.name}}</th>
            <td>{{cartItem.quantity}}</td>
            <td>{{cartItem.product.price}}</td>
            <td> <img [src]="cartItem.product.imageUrl"  alt="Product" width="50" loading="lazy">
            </td>
            <td><mat-icon (click)="removeItem(cartItem.product.id)" >delete</mat-icon></td>
          </tr>
        }
      </tbody>
    </table>
      <div class="cart-total">
        <h2>Total: {{ cartService.cartTotal()| currency }}</h2>
        <button mat-raised-button color="primary">Checkout</button>
      </div>
    }
  </div>
  <br>
  <a [routerLink]="['/home']" mat-raised-button routerLinkActive="router-link-active" >Buy</a>

    </mat-card-content>
  </mat-card>

  